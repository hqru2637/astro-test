---
import { Icon } from 'astro-icon/components';

interface Props {
  author: string;
}

const { author } = Astro.props;
const username = author.replace('github:', '');
const isGitHubUser = author.includes('github:');

const href = isGitHubUser ? `https://github.com/${username}` : undefined;
const src = isGitHubUser ? `https://github.com/${username}.png` : '';
---
<style>
  .icon-circle{
  width: 50px;
  height: 50px;
  border-radius: 50%;
  overflow: hidden;
  position: relative;
}

.icon-circle img {
  width: 100%;
  height: auto;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  margin: auto;
}

.username {
  color: rgb(var(--gray-dark));
  text-decoration: none;
}
</style>

<div>
  <a href={href} target="_blank" rel="noopener noreferrer" class="username">
    <figure>
      {isGitHubUser ? <img class="icon-circle" src={src} /> : <Icon name="carbon:user-avatar-filled" size={50} color="black"/>}
      <br/>
      {username}
    </figure>
  </a>
</div>
